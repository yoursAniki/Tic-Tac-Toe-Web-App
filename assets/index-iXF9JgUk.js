(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const c=document.querySelector(".game__board"),h=document.querySelector(".game__slider"),z=document.querySelector(".game__board-size"),b=document.querySelector(".game__start-button");let l,m,L,k,y;const E=e=>{l=[],m=document.querySelectorAll(".cell");for(let r=0;r<e;r++){l[r]=[];for(let n=0;n<e;n++){let i=r*e+n;l[r][n]=m[i]}}},q=()=>{for(let e=0;e<l.length;e++)for(let r=0;r<l[e].length;r++){let n=l[e][r];n.addEventListener("click",function(){k=e,L=r}),n.addEventListener("click",G)}},O=()=>{const e=h.value;z.textContent=`${e}x${e}`},P=e=>{switch(e.toString()){case"3":c.style.fontSize="72px";break;case"4":c.style.fontSize="56px";break;case"5":c.style.fontSize="44px";break;case"6":c.style.fontSize="36px";break;case"7":c.style.fontSize="30px";break;case"8":c.style.fontSize="18px";break}},A=()=>{c.innerHTML="";const e=h.value;a=e,P(e),c.style.gridTemplateColumns=`repeat(${e}, 1fr)`,c.style.gridTemplateRows=`repeat(${e}, 1fr)`;for(let r=0;r<e*e;r++){const n=document.createElement("div");n.classList.add("cell"),c.appendChild(n)}E(e),q()};b.addEventListener("click",A);h.addEventListener("input",O);let u=[];const f={x:"x",o:"o"};let x=!1,p;const G=function(){if(x&&!this.textContent){if(p===f.o?this.classList.add("o"):this.classList.add("x"),this.textContent=p,this.classList.remove("unlocked"),B(k,L,p))return F();W()}},W=()=>{p=p===f.x?f.o:f.x},$=function(){u.splice(0),x=!0,p=f.x,y=0,m.forEach(e=>e.classList.add("unlocked"))};let a;const v=document.querySelector(".draw__score");let C=v.textContent;function B(e,r,n){let i=!0,o=!0,s=!0,d=!0;y++,u.splice(0);for(let t=0;t<a;t++)if(l[e][t].textContent!==n){i=!1;break}else u.push(l[e][t]);for(let t=0;t<a;t++)if(l[t][r].textContent!==n){o=!1;break}else u.push(l[t][r]);for(let t=0;t<a;t++)if(l[t][t].textContent!==n){s=!1;break}else u.push(l[t][t]);for(let t=0;t<a;t++)if(l[t][a-t-1].textContent!==n){d=!1;break}else u.push(l[t][a-t-1]);return(i||o||s||d)&&(x=!1),y===a*a&&!(i||o||s||d)&&(C++,v.textContent=C,m.forEach(t=>{t.classList.remove("unlocked"),t.classList.add("draw")})),i||o||s||d}b.addEventListener("click",$);const _=document.querySelector(".player1__score");let S=_.textContent;const w=document.querySelector(".player2__score");let g=w.textContent;const F=()=>{switch(p){case f.x:S++,_.textContent=S;break;case f.o:g++,w.textContent=g;break}u.forEach(e=>{e.classList.add("winner-cell")}),m.forEach(e=>{e.classList.remove("unlocked")})};
